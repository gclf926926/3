<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <script src="https://cdn.jsdelivr.net/npm/@mlc-ai/web-llm/dist/index.js"></script>
</head>
<body>
  <h1>Minha IA sem API</h1>
  <textarea id="input" placeholder="Digite aqui..."></textarea>
  <button onclick="responder()">Enviar</button>
  <pre id="output"></pre>

  <script>
    const engine = new webllm.MLCEngine();

    async function responder() {
      const texto = document.getElementById("input").value;
      document.getElementById("output").textContent = "Carregando modelo...";
      
      await engine.reload("Llama-3.2-1B-Instruct-q4f32_1-MLC");

      const resposta = await engine.chat.completions.create({
        messages: [{ role: "user", content: texto }],
      });

      document.getElementById("output").textContent =
        resposta.choices[0].message.content;
    }
  </script>
</body>
</html>
